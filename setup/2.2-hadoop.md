# 实验目的

熟悉的HDFS的基本操作。

# 实验原理

Hadoop分布式文件系统\(HDFS\)被设计成适合运行在通用硬件\(commodity hardware\)上的分布式文件系统。它和现有的分布式文件系统有很多共同点。但同时，它和其他的分布式文件系统的区别也是很明显的。HDFS是一个高度容错性的系统，适合部署在廉价的机器上。HDFS能提供高吞吐量的数据访问，非常适合大规模数据集上的应用。

# 实验步骤

## 一、启动HDFS

进入Hadoop目录启动分布式文件系统。以下命令将启动namenode以及数据节点作为集群。

```
# service ssh restart
# cd /usr/local/hadoop
# sbin/start-dfs.sh
# sbin/start-yarn.sh
```

## 二、将数据插入HDFS

假设我们在本地系统中的称为file.txt的文件中有数据，应该保存在hdfs文件系统中。按照以下步骤在Hadoop文件系统中插入所需的文件。

1.创建本地文件file.txt

`# touch /home/file.txt`

`# echo "hello world"  >  /home/file.txt`

2.您必须创建一个输入目录。

```
# hadoop fs -mkdir /user
# hadoop fs -mkdir /user/input
```

3.使用put命令将数据文件从本地系统传输并存储到Hadoop文件系统。

`# hadoop fs -put /home/file.txt /user/input`

4.可以使用ls命令验证文件。

`# hadoop fs -ls /user/input`


## 三、从HDFS检索数据

现在我们在HDFS中已经有一个名为file.txt的文件。下面给出的是从Hadoop文件系统中检索所需文件的简单示例。

1.最初，使用cat命令查看HDFS中file.txt的数据。

`# hadoop fs -cat /user/input/file.txt`

2.使用get命令将文件从HDFS获取到本地文件系统。

```
# mkdir /home/hadoop_tp
# hadoop fs -get /user/input/ /home/hadoop_tp/
```

## 四、关闭HDFS

您可以使用以下命令关闭HDFS。

```
# stop-dfs.sh
```